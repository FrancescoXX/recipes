project:
  name: go-hello-world-remote

services:
  # Deploy the staging service, where you can continuously deploy
  # code changes to test the deployment process
  # and verify app behavior in the 'prod' setup.
  # The web app is publicly accessible via the Zerops subdomain.
  - hostname: appstage
    type: go@1
    zeropsSetup: prod
    buildFromGit: https://github.com/zerops-recipe-apps/go-hello-world-app
    enableSubdomainAccess: true

  # Set up the remote development environment using the 'dev' setup,
  # which includes Go pre-installed based on the zerops.yaml from the 'buildFromGit' repository.
  - hostname: appdev
    type: go@1
    zeropsSetup: dev
    buildFromGit: https://github.com/zerops-recipe-apps/go-hello-world-app
    enableSubdomainAccess: true
    # Building Go applications or running IDEs in the remote container
    # may require significant resources. Uncomment the section below
    # to allocate more resources. Development services can be stopped when not in use to save costs.
    # verticalAutoscaling:
    #   minRam: 4
    #   cpu: 4
    #   cpuMode: DEDICATED
    
  # The Hello World Go app requires a database for development.
  # Deploy the database in Zerops, accessible as 'db' hostname
  # within the 'appdev' service.
  # The staged app in 'appstage' also connects to this database.
  - hostname: db
    type: postgresql@17
    mode: NON_HA
