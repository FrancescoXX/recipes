project:
  name: go-hello-world-small-prod

services:
  # Deploy the production service using the 'prod' setup.
  # Disable subdomain access after configuring HTTPS for your custom domain.
  # Allocate higher minimum resources to support
  # basic traffic levels.
  - hostname: app
    type: go@1
    zeropsSetup: prod
    buildFromGit: https://github.com/zerops-recipe-apps/go-hello-world-app
    enableSubdomainAccess: true
    minContainers: 2
    verticalAutoscaling:
      minRam: 0.25
    
  # The app requires a database.
  # Uses single-container 'NON_HA' mode for this small production setup.
  # Automatic daily encrypted backups are enabled by default.
  - hostname: db
    type: postgresql@17
    mode: NON_HA
