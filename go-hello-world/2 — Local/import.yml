project:
  name: go-hello-world-local

services:
  # The Hello World Go app requires a database for development.
  # Deploy the database in Zerops and connect via 'zcli vpn up'
  # to access it locally as 'db' or 'db.zerops'.
  - hostname: db
    type: postgresql@17
    mode: NON_HA
    
  # Additionally, deploy the staging service to continuously deploy
  # code changes, test the deployment process, and verify
  # app behavior in the 'prod' setup.
  # The web app is accessible via the Zerops subdomain.
  - hostname: appstage
    type: go@1
    zeropsSetup: prod
    buildFromGit: https://github.com/zerops-recipe-apps/go-hello-world-app
    enableSubdomainAccess: true
