# zeropsPreprocessor=true

# Remote (CDE) environment allows developers to build the app **within Zerops** via SSH,
# supporting the full development lifecycle without local tool installation.
# Comes with a dev service containing the source code and necessary development tools,
# a staging service, email testing tool, web database viewer and a low-resource database and storage.

project:
  name: django-remote

services:
  - hostname: appstage
    type: python@3.12
    zeropsSetup: prod
    buildFromGit: https://github.com/zerops-recipe-apps/django-app
    enableSubdomainAccess: true
    envSecrets:
      SECRET_KEY: <@generateRandomString(<32>)>
      # Default superuser password can be found in the environment variables section of the service in GUI.
      DJANGO_SUPERUSER_PASSWORD: <@generateRandomString(<12>)>
      
  - hostname: appdev
    type: python@3.12
    zeropsSetup: dev
    buildFromGit: https://github.com/zerops-recipe-apps/django-app
    enableSubdomainAccess: true
    envSecrets:
      SECRET_KEY: <@generateRandomString(<32>)>

  - hostname: db
    type: postgresql@17
    mode: NON_HA
    priority: 10

  - hostname: storage
    type: object-storage
    objectStorageSize: 5
    objectStoragePolicy: public-read
    priority: 10

  - hostname: mailpit
    type: go@1
    buildFromGit: https://github.com/zeropsio/recipe-mailpit
    enableSubdomainAccess: true

  - hostname: adminer
    type: php-apache@8.3
    buildFromGit: https://github.com/zeropsio/recipe-adminer
    enableSubdomainAccess: true