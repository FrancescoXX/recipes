project:
  name: bun-hello-world-local

services:
  # Deploy our app even for the 'local' setup,
  # so we can test our build and deploy process
  # and deployed app's behavior. Enabled Zerops subdomain
  # allows us to test the app via HTTPS.
  # Typical development workflow in 'local' environment
  # includes running and testing the app locally
  # and then deploying it via zCLI or Git push integration
  # into this Zerops staging service.
  - hostname: app
    type: bun@1.2
    zeropsSetup: prod
    buildFromGit: https://github.com/zerops-recipe-apps/bun-hello-world-app
    enableSubdomainAccess: true
  
  # The app requires a database. Create a PostgreSQL database
  # in single node setup with close to minimal default resources.
  # You would typically connect to the database locally
  # over zCLI Zerops VPN, which would make accessible the database
  # on its hostname 'db' or 'db.zerops'. So you would connect
  # the same as the above staging service would.
  - hostname: db
    type: postgresql@17
    mode: NON_HA
